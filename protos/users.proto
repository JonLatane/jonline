syntax = "proto3";

package jonline;
import "permissions.proto";
import "visibility_moderation.proto";

message User {
  string id = 1;
  string username = 2;
  optional ContactMethod email = 3;
  optional ContactMethod phone = 4;
  repeated Permission permissions = 5;
}

message ContactMethod {
  optional string value = 1;
  Visibility visibility = 2;
}

message GetUsersRequest {
  optional string username = 1;
  optional string email = 2;
  optional string phone = 3;
  optional string user_id = 4;
  optional int32 page = 5;
}

message GetUsersResponse {
  repeated User users = 1;
  int32 total_results = 2;
}
